{"version":3,"sources":["components/HeroSearch.jsx","components/Hero.jsx","components/PhoneItem.jsx","utils/toSnakeCase.js","components/PhonesGrid.jsx","components/CategoryMenu.jsx","components/PriceFilter.jsx","components/StorageFilter.jsx","components/Sidebar.jsx","components/MainContent.jsx","components/Pagination.jsx","pages/HomePage.jsx","App.jsx","reducers/index.js","index.js"],"names":["HeroSearch","useState","searchTerm","setSearchTerm","dispatch","useDispatch","e","a","preventDefault","type","payload","onSubmit","className","placeholder","value","onChange","currentTarget","Hero","showSearch","fetch","method","then","res","json","prices","min","max","onClick","src","alt","PhoneItem","str","name","storageSize","grade","price","unlocked","requestType","toLowerCase","match","map","x","join","PhonesGrid","phones","useSelector","state","phone","key","_id","length","CategoryMenu","to","PriceFilter","setMin","setMax","totalMinPrice","totalMaxPrice","setValue","useEffect","id","Slider","event","newValue","valueLabelDisplay","aria-labelledby","htmlFor","target","StorageFilter","sizes","setSizes","storageSizes","sort","b","parseInt","checked","filter","size","Sidebar","MainContent","Pagination","totalPages","currentPage","setCurrentPage","pageLinks","handleClick","makeLink","page","active","i","push","disabled","HomePage","totalResults","setTotalResults","minPrice","maxPrice","queryString","resp","data","totalCount","requests","fetchData","Math","floor","App","path","exact","component","initialState","rootReducer","action","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25d72457.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport ArrowForwardRoundedIcon from '@material-ui/icons/ArrowForwardRounded'\n\nfunction HeroSearch() {\n  const [searchTerm, setSearchTerm] = useState('')\n\n  const dispatch = useDispatch()\n\n  function handleChange(e) {\n    setSearchTerm(e.currentTarget.value)\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n    dispatch({ type: 'SET_SEARCH_TERM', payload: searchTerm })\n    dispatch({ type: 'SET_CURRENT_PAGE', payload: 1 })\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"search\"\n        className=\"search-bar\"\n        placeholder=\"Enter Search Term (e.g iPhone x, 128GB, A1)\"\n        value={searchTerm}\n        onChange={handleChange}\n      />\n      <button className=\"hero__btn btn btn--primary\">\n        Search <ArrowForwardRoundedIcon />\n      </button>\n    </form>\n  )\n}\n\nexport default HeroSearch\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport HeroSearch from './HeroSearch'\n\nfunction Hero({ showSearch }) {\n  const dispatch = useDispatch()\n\n  async function handleClick(e) {\n    await fetch('/api/requests', { method: 'post' })\n    fetch('/api/requests/prices/minmax')\n      .then((res) => res.json())\n      .then(({ prices }) => {\n        if (prices) {\n          dispatch({ type: 'SET_TOTAL_MIN_PRICE', payload: prices.min })\n          dispatch({ type: 'SET_TOTAL_MAX_PRICE', payload: prices.max })\n        }\n      })\n  }\n\n  return (\n    <section className=\"hero\">\n      <div className=\"container row\">\n        <div className=\"hero_text col\">\n          <h1 className=\"hero__title\">Shop our latest available stock here</h1>\n          {showSearch ? (\n            <HeroSearch />\n          ) : (\n            <button onClick={handleClick} className=\"hero__btn btn btn--primary\">\n              Add Requests\n            </button>\n          )}\n        </div>\n        <div className=\"hero__img col\">\n          <img src=\"img/gadgets.png\" alt=\"gadgets\" />\n        </div>\n      </div>\n    </section>\n  )\n}\n\nexport default Hero\n","import React from 'react'\nimport toSnakeCase from '../utils/toSnakeCase'\n\nfunction PhoneItem({ name, storageSize, grade, price, unlocked, requestType }) {\n  return (\n    <div className=\"item\">\n      <span className=\"item__grade\">{grade}</span>\n      <img className=\"item__img\" src={`img/${toSnakeCase(name.toLowerCase())}.png`} alt=\"iphone xs max\" />\n      <span className=\"item__name\">{name}</span>\n      <span className=\"item__spec\">\n        {unlocked ? 'Unlocked' : 'Locked'} | {storageSize}\n      </span>\n      <span className=\"item__label\">Unit price</span>\n      <span className=\"item__price\">${price}</span>\n      <span className=\"item__in-stock\">1500 Available</span>\n      <button className=\"btn btn--primary\">{requestType}</button>\n    </div>\n  )\n}\n\nexport default PhoneItem\n","export default (str) =>\n  str &&\n  str\n    .match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)\n    .map((x) => x.toLowerCase())\n    .join('_')\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PhoneItem from './PhoneItem'\n\nfunction PhonesGrid() {\n  const phones = useSelector((state) => state.phones)\n  return (\n    <>\n      <section className=\"main-content\">\n        {phones.map((phone) => (\n          <PhoneItem key={phone._id} {...phone} />\n        ))}\n        {!phones.length && <p>No results found</p>}\n      </section>\n    </>\n  )\n}\n\nexport default PhonesGrid\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction CategoryMenu() {\n  return (\n    <>\n      <h3>Categories</h3>\n      <ul className=\"nav__list\">\n        <li className=\"nav__item\">\n          <Link className=\"nav__link\" to=\"/\">\n            iPhone\n          </Link>\n        </li>\n        <li className=\"nav__item\">\n          <Link className=\"nav__link\" to=\"/\">\n            All\n          </Link>\n        </li>\n        <li className=\"nav__item\">\n          <Link className=\"nav__link\" to=\"/\">\n            Samsung\n          </Link>\n        </li>\n        <li className=\"nav__item\">\n          <Link className=\"nav__link\" to=\"/\">\n            iPad\n          </Link>\n        </li>\n        <li className=\"nav__item\">\n          <Link className=\"nav__link\" to=\"/\">\n            MacBook\n          </Link>\n        </li>\n        <li className=\"nav__item\">\n          <Link className=\"nav__link\" to=\"/\">\n            AirPods\n          </Link>\n        </li>\n      </ul>\n    </>\n  )\n}\n\nexport default CategoryMenu\n","import { Slider } from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nfunction PriceFilter() {\n  const [min, setMin] = useState(0)\n  const [max, setMax] = useState(0)\n  const totalMinPrice = useSelector((state) => state.totalMinPrice)\n  const totalMaxPrice = useSelector((state) => state.totalMaxPrice)\n  const [value, setValue] = useState([totalMinPrice, totalMaxPrice])\n  const dispatch = useDispatch()\n\n  const handleChange = (event, newValue) => {\n    setMin(newValue[0])\n    setMax(newValue[1])\n  }\n\n  useEffect(() => {\n    setMin(totalMinPrice)\n    setMax(totalMaxPrice)\n    return () => {}\n  }, [totalMinPrice, totalMaxPrice])\n\n  useEffect(() => {\n    setValue([min, max])\n    dispatch({ type: 'SET_CURRENT_PAGE', payload: 1 })\n    dispatch({ type: 'SET_MIN_PRICE', payload: min })\n    dispatch({ type: 'SET_MAX_PRICE', payload: max })\n\n    return () => {}\n  }, [dispatch, min, max])\n\n  return (\n    <>\n      <h3 id=\"price-filter\">Price Filter</h3>\n\n      <Slider\n        value={value}\n        min={totalMinPrice}\n        max={totalMaxPrice}\n        onChange={handleChange}\n        valueLabelDisplay=\"auto\"\n        aria-labelledby=\"price-filter\"\n      />\n      <div className=\"price-filter--controls\">\n        <div className=\"price-filter\">\n          <label htmlFor=\"min\" className=\"price-filter__label\">\n            Min\n          </label>\n          <input\n            type=\"text\"\n            id=\"min\"\n            className=\"price-filter__input\"\n            value={min}\n            min={totalMinPrice}\n            max={max}\n            onChange={(e) => setMin(e.target.value)}\n          />\n        </div>\n        <span className=\"divider\" />\n        <div className=\"price-filter\">\n          <label htmlFor=\"max\" className=\"price-filter__label\">\n            Max\n          </label>\n          <input\n            type=\"text\"\n            id=\"max\"\n            className=\"price-filter__input\"\n            value={max}\n            min={min}\n            max={totalMaxPrice}\n            onChange={(e) => setMax(e.target.value)}\n          />\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default PriceFilter\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nfunction StorageFilter() {\n  const [sizes, setSizes] = useState([])\n  const storageSizes = useSelector((state) => state.storageSizes)\n  const dispatch = useDispatch()\n\n  function handleSelect(e) {\n    dispatch({\n      type: 'SET_STORAGE_SIZES',\n      payload: e.target.checked\n        ? [...storageSizes, e.target.value]\n        : storageSizes.filter((size) => size !== e.target.value)\n    })\n  }\n\n  useEffect(() => {\n    fetch('/api/requests/sizes')\n      .then((res) => res.json())\n      .then(({ storageSizes }) => {\n        setSizes(storageSizes.sort((a, b) => parseInt(a, 10) - parseInt(b, 10)))\n      })\n    return () => {}\n  }, [])\n  return (\n    <>\n      <h3>Storage</h3>\n      <form onChange={handleSelect}>\n        {sizes.map((size) => {\n          return (\n            <div key={size}>\n              <input type=\"checkbox\" value={size} id={size} />\n              <label htmlFor={size}> {size}</label>\n            </div>\n          )\n        })}\n      </form>\n    </>\n  )\n}\n\nexport default StorageFilter\n","import React from 'react'\nimport CategoryMenu from './CategoryMenu'\nimport PriceFilter from './PriceFilter'\nimport StorageFilter from './StorageFilter'\n\nfunction Sidebar() {\n  return (\n    <aside className=\"sidebar\">\n      <CategoryMenu />\n      <PriceFilter />\n      <StorageFilter />\n    </aside>\n  )\n}\n\nexport default Sidebar\n","import React from 'react'\nimport PhonesGrid from './PhonesGrid'\nimport Sidebar from './Sidebar'\n\nfunction MainContent() {\n  return (\n    <main>\n      <div className=\"container main\">\n        <Sidebar />\n        <PhonesGrid />\n      </div>\n    </main>\n  )\n}\n\nexport default MainContent\n","import React from 'react'\nimport ArrowForwardIosRoundedIcon from '@material-ui/icons/ArrowForwardIosRounded'\nimport ArrowBackIosRoundedIcon from '@material-ui/icons/ArrowBackIosRounded'\n\nfunction Pagination({ totalPages, currentPage, setCurrentPage }) {\n  const pageLinks = []\n\n  function handleClick(e) {\n    setCurrentPage(parseInt(e.currentTarget.value, 10))\n  }\n\n  function makeLink(page) {\n    const active = page === currentPage ? 'active' : ''\n    return (\n      <li key={page} className={active}>\n        <button className=\"btn\" value={page} onClick={handleClick}>\n          {page}\n        </button>\n      </li>\n    )\n  }\n\n  if (totalPages <= 5) {\n    for (let i = 1; i <= totalPages; i += 1) {\n      pageLinks.push(makeLink(i))\n    }\n  } else if (currentPage - 1 < 3) {\n    pageLinks.push(makeLink(1), makeLink(2), makeLink(3), makeLink(4), <span key=\"x\">...</span>, makeLink(totalPages))\n  } else if (totalPages - currentPage < 3) {\n    pageLinks.push(\n      makeLink(1),\n      <span key=\"x\">...</span>,\n      makeLink(totalPages - 3),\n      makeLink(totalPages - 2),\n      makeLink(totalPages - 1),\n      makeLink(totalPages)\n    )\n  } else {\n    pageLinks.push(\n      makeLink(1),\n      <span key=\"x\">...</span>,\n      makeLink(currentPage - 1),\n      makeLink(currentPage),\n      makeLink(currentPage + 1),\n      <span key=\"y\">...</span>,\n      makeLink(totalPages)\n    )\n  }\n\n  return (\n    <>\n      <div className=\"pagination container row\">\n        <button className=\"next__button\" value={currentPage - 1} onClick={handleClick} disabled={currentPage <= 1}>\n          <ArrowBackIosRoundedIcon />\n        </button>\n\n        <ul className=\"row\">{pageLinks}</ul>\n\n        <button\n          className=\"prev__button\"\n          value={currentPage + 1}\n          onClick={handleClick}\n          disabled={currentPage >= totalPages}\n        >\n          <ArrowForwardIosRoundedIcon />\n        </button>\n      </div>\n    </>\n  )\n}\n\nexport default Pagination\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Hero from '../components/Hero'\nimport MainContent from '../components/MainContent'\nimport Pagination from '../components/Pagination'\n\nfunction HomePage() {\n  const [totalResults, setTotalResults] = useState(0)\n  const searchTerm = useSelector((state) => state.searchTerm)\n  const currentPage = useSelector((state) => state.currentPage)\n  const storageSizes = useSelector((state) => state.storageSizes)\n  const minPrice = useSelector((state) => state.minPrice)\n  const maxPrice = useSelector((state) => state.maxPrice)\n  const totalMinPrice = useSelector((state) => state.totalMinPrice)\n  const totalMaxPrice = useSelector((state) => state.totalMaxPrice)\n  const dispatch = useDispatch()\n\n  function setCurrentPage(page) {\n    dispatch({ type: 'SET_CURRENT_PAGE', payload: page })\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      if (!totalMinPrice || !totalMaxPrice) {\n        fetch('/api/requests/prices/minmax')\n          .then((res) => res.json())\n          .then(({ prices }) => {\n            if (prices) {\n              dispatch({ type: 'SET_TOTAL_MIN_PRICE', payload: prices.min })\n              dispatch({ type: 'SET_TOTAL_MAX_PRICE', payload: prices.max })\n            }\n          })\n      }\n\n      let queryString = `q=${searchTerm}&page=${currentPage}`\n\n      if (minPrice) queryString += `&price[gte]=${minPrice}`\n      if (maxPrice) queryString += `&price[lte]=${maxPrice}`\n      if (storageSizes.length) queryString += storageSizes.map((size) => `&storageSize=${size}`).join('')\n\n      const resp = await fetch(`/api/requests?${queryString}`)\n      const data = await resp.json()\n      setTotalResults(data.totalCount)\n      dispatch({ type: 'SET_PHONES', payload: data.requests })\n    }\n    fetchData()\n    return () => {}\n  }, [dispatch, currentPage, searchTerm, minPrice, maxPrice, storageSizes, totalMinPrice, totalMaxPrice])\n\n  return (\n    <>\n      <Hero showSearch={!!totalResults} />\n      <MainContent />\n      <Pagination\n        totalPages={Math.floor(totalResults / 20)}\n        currentPage={currentPage}\n        setCurrentPage={setCurrentPage}\n      />\n    </>\n  )\n}\n\nexport default HomePage\n","import React from 'react'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport HomePage from './pages/HomePage'\n\nfunction App() {\n  return (\n    <Router>\n      <Route path=\"/\" exact component={HomePage} />\n      <footer className=\"footer\">\n        <div className=\"container\">Copyright &copy; Lord Uche 2020</div>\n      </footer>\n    </Router>\n  )\n}\n\nexport default App\n","const initialState = {\n  phones: [],\n  searchTerm: '',\n  currentPage: 1,\n  storageSizes: [],\n  totalMinPrice: 0,\n  totalMaxPrice: 0\n}\n\nfunction rootReducer(state = initialState, action) {\n  switch (action.type) {\n    case 'SET_PHONES':\n      return { ...state, phones: action.payload }\n    case 'SET_SEARCH_TERM':\n      return { ...state, searchTerm: action.payload }\n    case 'SET_CURRENT_PAGE':\n      return { ...state, currentPage: action.payload }\n    case 'SET_MIN_PRICE':\n      return { ...state, minPrice: action.payload }\n    case 'SET_MAX_PRICE':\n      return { ...state, maxPrice: action.payload }\n    case 'SET_TOTAL_MIN_PRICE':\n      return { ...state, totalMinPrice: action.payload }\n    case 'SET_TOTAL_MAX_PRICE':\n      return { ...state, totalMaxPrice: action.payload }\n    case 'SET_STORAGE_SIZES':\n      return { ...state, storageSizes: action.payload }\n    default:\n      return state\n  }\n}\n\nexport default rootReducer\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport rootReducer from './reducers'\n\nconst store = createStore(rootReducer)\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}